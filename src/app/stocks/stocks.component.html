<body class = "pageContainer">
    <div class="stock-header">
        <h1 class="title"> Stocks </h1>
    </div>
    <div class="stocks-div">
        <input class= "stock-searchbar" placeholder="Search for Stock" type="text" [(ngModel)] = "term">
        <button class="investBtn">Invest!</button>
        <!--
        <table mat-table [dataSource]="data">
            <ng-container matColumnDef="Symbol">
                <th mat-header-cell *matHeaderCellDef> Symbol </th>
                <td mat-cell *matCellDef="let stock"> {{stock.symbol}} </td>
              </ng-container>
        </table>
        -->

        <div style="text-align:center">
            <pagination-template #p="paginationApi" [id]="config.id" (pageChange)="config.currentPage = $event">
          
             
              <div class="custom-pagination">
                <div class="pagination-previous" [class.disabled]="p.isFirstPage()">
                  <span *ngIf="!p.isFirstPage()" (click)="p.previous()"> < </span> 
                  </div> 
                  <div class="page-number" *ngFor="let page of p.pages" [class.current]="p.getCurrent() === page.value">
                        <span (click)="p.setCurrent(page.value)" *ngIf="p.getCurrent() !== page.value">{{ page.label }}</span>
                      <div *ngIf="p.getCurrent() === page.value">
                        <span>{{ page.label }}</span>
                      </div>
                  </div>
                  <div class="pagination-next" [class.disabled]="p.isLastPage()">
                    <span *ngIf="!p.isLastPage()" (click)="p.next()"> > </span>
                  </div>
              </div>
          
            </pagination-template>
            </div>

        <table class ="stocks-table">
            <tr>
                <th style="width: 2vw">
                  <button (click) = "reorderId()"  *ngIf = "this.idDir" class="arrow">id &darr;</button>
                  <button (click) = "reorderId()"  *ngIf = "!this.idDir" class="arrow">id &#8593;</button>
                </th>
                <th>Symbol </th>
                <th>Company Name</th>
                <th>Country</th>
                <th style="width: 4vw">
                  <button (click) = "reorderIpoYear()" *ngIf = "this.ipoYearDir" class="arrow">IPO Year &darr;</button>
                  <button (click) = "reorderIpoYear()" *ngIf = "!this.ipoYearDir" class="arrow">IPO Year &#8593;</button>
                </th>
                <th style="width: 5vw">
                  <button (click) = "reorderlastSale()" *ngIf = "this.lastSaleDir" class="arrow">Last Sale Price &darr;</button>
                  <button (click) = "reorderlastSale()" *ngIf = "!this.lastSaleDir" class="arrow">Last Sale Price &#8593;</button>
                </th>
                <th style="width: 6vw">
                  <button (click) = "reordernetChange()" *ngIf = "this.netChangeDir" class="arrow">Net Change &darr;</button>
                  <button (click) = "reordernetChange()" *ngIf = "!this.netChangeDir" class="arrow">Net Change &#8593;</button>
                </th>
                <th style="width: 6vw">
                  <button (click) = "reorderpercentChange()" *ngIf = "this.percentChangeDir" class="arrow">Percent Change &darr;</button>
                  <button (click) = "reorderpercentChange()" *ngIf = "!this.percentChangeDir" class="arrow">Percent Change &#8593;</button>
                </th>
                <th style="width: 6vw">
                  <button (click) = "reordermarketCap()" *ngIf = "this.marketCapDir" class="arrow">Market Cap &darr;</button>
                  <button (click) = "reordermarketCap()" *ngIf = "!this.marketCapDir" class="arrow">Market Cap &#8593;</button>
                </th>
                <th style="width: 5vw">
                  <button (click) = "reordervolume()" *ngIf = "this.volumeDir" class="arrow">Volume &darr;</button>
                  <button (click) = "reordervolume()" *ngIf = "!this.volumeDir" class="arrow">Volume &#8593;</button>
                </th>
            </tr>
            <tr *ngFor="let stock of data | filter: term | paginate: config">
                <th>{{stock.id}}</th>
                <th>{{stock.symbol}}</th>
                <th>{{stock.name}}</th>
                <th>{{stock.country}}</th>
                <th>{{stock.ipoYear}}</th>
                <th *ngIf="stock.dynamicInfo">{{stock.dynamicInfo.lastSale}}</th>
                <th *ngIf="stock.dynamicInfo">{{stock.dynamicInfo.netChange}}</th>
                <th *ngIf="stock.dynamicInfo">{{stock.dynamicInfo.percentChange}}</th>
                <th *ngIf="stock.dynamicInfo">{{stock.dynamicInfo.marketCap}}</th>
                <th *ngIf="stock.dynamicInfo">{{stock.dynamicInfo.volume}}</th>

            </tr>
        </table>


    </div>
</body>



